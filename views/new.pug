extends layout
block content
  //jquery3.2
  script(type='text/javascript', src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js')
  //jquery-ui-multi-date-picker1.6.5
  script(src='https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.1/jquery.min.js')
  link(rel='stylesheet', href='https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css')
  script(src='https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js')
  script(src='https://cdn.jsdelivr.net/npm/jquery-ui-multi-date-picker@1.6.5/dist/jquery-ui.multidatespicker.min.js')

  form(method="post", action="/schedules").my-3
    input(type="hidden" name="_csrf" value!=csrfToken)
    div.form-group
      label(for="scheduleName") 
      h3 予定の新規作成
      input(type="text" name="scheduleName" placeholder="タイトルを追加")#scheduleName.form-control
    div.form-group
      label(for="memo") 
      textarea(name="memo" placeholder="予定の詳細")#memo.form-control

    div.form-group
      form#ExtendForm(name='ExtendForm')
        button#addLine(href='javascript:void(0);') 日程追加
        br
        #container(style='position:fixed;')
          #sdate(style='float:left; width:200px;')
            #addhere(style='float:relative; width:600px;')
              #datepicker.input-group.date
                #sdate(style='float:left; width:200px;')
                  input.form-control.datepick(type="text" name='candidates' placeholder="候補日程")#candidates.form-control
                #fieldtpl(style='display:none;')
                  #sdate(style='float:left; width:200px;')
                    input.form-control.datepick(type="text" name='candidates' placeholder="候補日程")#candidates.form-control
          br
          button(type="submit").btn.btn-info 予定をつくる


        script.
          $(document).ready(function(){
              setDatePicker();
          });

          $('#addLine').on('click', function(){
              var cont = document.getElementById('addhere'); 
              var numfields = cont.getElementsByTagName("input").length; 
              var div = document.createElement('div');
              div.innerHTML = document.getElementById('fieldtpl').innerHTML;
              $('#addhere').append(div.innerHTML);
              setDatePicker();
          });
          
          function setDatePicker() {
              $( "#addhere .datepick").each(function() {
                  $( this ).datepicker({
                      changeMonth: true,
                      changeYear: true,
                      dateFormat: "yy年mm月dd日"
                  });
              });
          }    
          //- $(function () {
          //-   $('#multidatepicker').multiDatesPicker({
          //-       dateFormat: "yy年mm月dd日",
          //-       showOn: "button",
          //-       buttonText: "カレンダー",
          //-       onSelect: function (selected_date) {
          //-           $('#display').val(selected_date);
          //-       }
          //-   });
          //- });
          //- $('#multidatespicker').multiDatesPicker({
          //-     format: 'yyyy年MMdd日', //日付のフォーマット
          //-     language:'ja', //日本語表示
          //-     pickDate: true,
          //-     pickTime: true,
          //-     hourStep: 1,
          //-     minuteStep: 15,
          //-     secondStep: 30,
          //-     inputMask: true
          //- });
      
